<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Bubbl</title>
    <meta name="description" content="bubbl">
    <meta name="author" content="bubbl">
    <meta name="keywords" content="clip, snip, flip, online videos, bubbl">
    <meta name="generator" content="">
     <meta property="og:title" content="Bubbl" />
    <meta property="og:site_name" content="Bubbl" />
    <meta property="og:url" content="http://bubbl.me" />
    <meta property="og:description" content="Bubbl is creating a mobile app that lets you edit and share your favorite parts of online videos." />
    <meta property="og:image" content="https://dl.dropboxusercontent.com/u/7766663/bubbl.png" />
    <meta property="fb:app_id" content="1403301609884244" />


    <!-- Mobile viewport optimized: h5bp.com/viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="favicon.ico">

    <!--Fonts-->

    <link href='http://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script>
        var Environment = {
            //mobile or desktop compatible event name, to be used with '.on' function
            TOUCH_DOWN_EVENT_NAME: 'mousedown touchstart',
            TOUCH_UP_EVENT_NAME: 'mouseup touchend',
            TOUCH_MOVE_EVENT_NAME: 'mousemove touchmove',
            TOUCH_DOUBLE_TAB_EVENT_NAME: 'dblclick dbltap',

            isAndroid: function() {
                return navigator.userAgent.match(/Android/i);
            },
            isBlackBerry: function() {
                return navigator.userAgent.match(/BlackBerry/i);
            },
            isIOS: function() {
                return navigator.userAgent.match(/iPhone|iPad|iPod/i);
            },
            isOpera: function() {
                return navigator.userAgent.match(/Opera Mini/i);
            },
            isWindows: function() {
                return navigator.userAgent.match(/IEMobile/i);
            },
            isMobile: function() {
                return (Environment.isAndroid() || Environment.isBlackBerry() || Environment.isIOS() || Environment.isOpera() || Environment.isWindows());
            }
        };

        if(Environment.isMobile()){
            window.location = "mobile/mobile.html";
        }
    </script>


    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-47879803-1']);
        _gaq.push(['_setDomainName', 'bubbl.me']);
        _gaq.push(['_trackPageview']);
        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>

    <!--jquery-->
    <script type="text/javascript" src="js/vendor/jquery.min.js"></script>
    <!-- parse -->
    <script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.2.16.min.js"></script>
    <!--script-->
    <script type="text/javascript" src="js/script-ck.js"></script>
    <script src="js/modernizr.custom.js"></script>
    <!--form validation-->

    <script src="js/parsley.min.js"></script>
</head>
<body>

<div id="background_slider">
    <div id="slidr-div" class="slider_class" >

    </div>
</div>

<!-- open/close -->
<div class="overlay overlay-slidedown">
    <button type="button" class="overlay-close">Close</button>
    <div class="center_loader">
        <div id="youtube_loader">
            <div class="rect1"></div>
            <div class="rect2"></div>
            <div class="rect3"></div>
            <div class="rect4"></div>
            <div class="rect5"></div>
        </div>
    </div>
    <div id="youtube_overlay" class="videoWrapper"></div>

</div>


<div id="header_content">
    <div id="logo_zone">
        <img id="main_logo" src="img/bubbl_logo.png">
    </div>
    <div id="contact_zone">
        <a id="blog_link" href="http://blog.bubbl.me" target="_blank">BLOG</a>/
        <a id="contact_link" href="mailto:info@bubbl.me" target="_blank">CONTACT</a>
    </div>

    <div class="full_content_container" id="trigger-overlay">
        <img id="full_content_image" src="img/splash_icons/full_content_40.png" alt="View Full Video">
    </div>
    <div class="mute_container" id="mute_video">
        <img id="mute_image" src="img/audio_on.png" alt="Mute Audio">
    </div>
</div>
<div id="main_container">

    <h1 id="header_text">Get your spot today</h1>

    <div id="reserve_username_form">
        <div id="username_field" class="input_field" parsley-validate parsley-bind>
            <input placeholder="ENTER YOUR USERNAME" type="text" id="reserve_username" parsley-trigger="keyup" parsley-error-message="Please enter a username" required>
            <ul class="username-error-list">
                <li style="display: list-item;">This username is taken.</li>
            </ul>
        </div>
        <div id="email_field" parsley-validate parsley-bind>
            <input placeholder="ENTER YOUR EMAIL" type="email" id="reserve_email" parsley-trigger="keyup" parsley-error-message="Please enter a valid email" parsley-type="email" required >
        </div>
        <div id="submit_field" class="input_field">
            <button id="reserve_submit" type="submit">RESERVE</button>
        </div>
        <div class="spinner">
            <div class="rect1"></div>
            <div class="rect2"></div>
            <div class="rect3"></div>
            <div class="rect4"></div>
            <div class="rect5"></div>
        </div>
    </div>
    <div class="success" style="margin-bottom: 10px;">
        <h4>Do you think your friends should know?</h4>
    </div>
    <div id="social_share">
        <div class="twitter" >
            <a href="http://twitter.com/intent/tweet?url=http://www.bubbl.me&text=I just reserved my username for Bubbl. You should too!&hashtags=bubbl&via=BUBBLme" target="_blank"><img class="twitter_share" src="img/twitter_icon.png"></a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=http://www.bubbl.me&t=I just reserved my username for Bubbl. You should too!" target="_blank"><img class="fb_share" src="img/facebook_icon.png"></a>
            </div>
        </div>
    <div id="submit_video">
        <h4>Add your favorite video to our homepage:</h4>
        <div id="video_url" parsley-validate parsley-bind>
            <input placeholder="ENTER VIDEO URL" type="url" id="video_url_input" parsley-type="url" parsley-trigger="keyup" required>
        </div>
        <div id="submit_video_field" class="input_field">
            <button id="submit_video_button">SUBMIT</button>
        </div>
    </div>
    <div class="url_success">
        <h4>Thank you for adding a video, we will let you know when it's live.</h4>
    </div>

    <div class="error">
        <h4 id="error">That username has already been claimed.</h4>
    </div>
    <h4>Capture the best parts of online videos.</h4>
    <h5>Spring, 2014 in the App Store.</h5>

</div>

<!--<div class="transparent_top"></div>-->

<script type="text/javascript">
    Parse.initialize("Jk0WelF4bc67anKt8fvHQYUj25osYDlTsPoXAZzx", "9KwJ2hHLFVemLOMwlGoJgyNuGPJF0285gkp8FwBl");
    var landingPageLogUser = {
        // Define ranges to bucket data points into meaningful segments
        device: 'desktop'
    };
    // Send the dimensions to Parse along with the 'search' event
    Parse.Analytics.track('landingPageOpens', landingPageLogUser)
</script>
<script>
    $('#mute_video').click(function () {
        if($("video").prop('muted')) {
            $('#mute_image').attr("src", "img/audio_on.png");
            $("video").prop('muted', false);
        }
        else{
            $('#mute_image').attr("src", "img/audio_off.png");
            $("video").prop('muted', true);
        }

    })
</script>

<!--Add Slider JS Library-->
<script type="text/javascript" src="js/vendor/bubbl_slider.min.js"></script>

<script>
    $(document).ready(function(){
        var num_vids = 4;
        var data_slider_num = "one";
        var video_num = "1";
        var video_num_name = "";
        var video_array = [];
        var video;

        video_array[0] = ["1", "one", "http://www.youtube.com/embed/1EDMyYZGmqU"]
        video_array[1] = ["2", "two", "http://www.youtube.com/embed/VKG4Tgvvd_E"]
        video_array[2] = ["3", "three", "http://www.youtube.com/embed/PDboaDrHGbA"]
        video_array[3] = ["4", "four", "http://www.youtube.com/embed/2G92m90uuzI"]
        video_array[4] = ["5", "five", "http://www.youtube.com/embed/7Me3LO-3JEs"]
        video_array[5] = ["6", "six", "http://www.youtube.com/embed/-K6vaxOQFsw"]
        video_array[6] = ["7", "seven", "http://www.youtube.com/embed/dQYG0KtBivQ"]
        video_array[8] = ["9", "nine", "http://www.youtube.com/embed/STc6yT0dr0U"]
        video_array[9] = ["10", "ten", "http://www.youtube.com/embed/ke-9-w_zw08"]
        video_array[10] = ["11", "eleven", "http://www.youtube.com/embed/85LnuVpzK3o"]
        video_array[11] = ["12", "twelve", "http://www.youtube.com/embed/hIG992erHAY"]
        video_array[12] = ["13", "thirteen", "http://www.youtube.com/embed/NHKTQcDfv9A"]
        video_array[13] = ["14", "fourteen", "http://www.youtube.com/embed/wXiTwalPvuQ"]
        video_array[14] = ["15", "fifteen", "http://www.youtube.com/embed/wVcJLtRGEOc"]
        video_array[15] = ["16", "sixteen", "http://www.youtube.com/embed/yMuuc_pqx2s"]
        video_array[16] = ["17", "seventeen", "http://www.youtube.com/embed/ghHx8rBQaU8"]
        video_array[17] = ["18", "two", "http://www.youtube.com/embed/dwGO-wwKSjg"]
        video_array[18] = ["19", "three", "http://www.youtube.com/embed/oNdgg6WzdoY#t=57"]
        video_array[19] = ["20", "four", "http://www.youtube.com/embed/q5dpbV6GklE"]
//        video_array[20] = ["21", "five", "http://www.youtube.com/embed/5WUjZ-qj4aw"]
        video_array[20] = ["22", "six", "http://www.youtube.com/embed/pdYIGcv5rYE"]
        video_array[21] = ["23", "seven", "http://www.youtube.com/embed/VIJ3h39mNmw"]
        video_array[22] = ["24", "eight", "http://www.youtube.com/embed/uNcfCA9UsDQ"]
        video_array[23] = ["25", "nine", "http://www.youtube.com/embed/JRWox-i6aAk"]
        video_array[24] = ["26", "ten", "http://www.youtube.com/embed/LMQc8cqgvzw"]
        video_array[25] = ["27", "eleven", "http://www.youtube.com/embed/i0A3-wc0rpw"]
        video_array[26] = ["28", "twelve", "http://www.youtube.com/embed/A_asfZhfTBk"]
        video_array[27] = ["29", "thirteen", "http://www.youtube.com/embed/Do1xw0hMdcs"]
        video_array[28] = ["30", "fourteen", "http://www.youtube.com/embed/Q3VjaCy5gck"]
        video_array[29] = ["31", "fifteen", "http://www.youtube.com/embed/rEamE0MYPkg"]
        video_array[30] = ["32", "sixteen", "http://www.youtube.com/embed/-zzP29emgpg"]
        video_array[31] = ["33", "one", "http://www.youtube.com/embed/JtH68PJIQLE"]
        video_array[32] = ["35", "three", "http://www.youtube.com/embed/jDj44n5bjWU"]
//        video_array[33] = ["36", "four", "http://www.youtube.com/embed/bB2NBwGUAZU"]
        video_array[34] = ["37", "five", "http://www.youtube.com/embed/-hfKtUT4ISs"]
        video_array[35] = ["38", "six", "http://www.youtube.com/embed/kh29_SERH0Y"]
//        video_array[37] = ["39", "seven", "http://www.youtube.com/embed/Spq-K1J0yk8"]
//        video_array[38] = ["41", "nine", "http://www.youtube.com/embed/s7ozUhhvitg"]
        video_array[36] = ["42", "ten", "http://www.youtube.com/embed/m4Bm3cs9TFo"]
        video_array[37] = ["43", "eleven", "http://www.youtube.com/embed/YQIMGV5vtd4"]
        video_array[38] = ["44", "twelve", "http://www.youtube.com/embed/dtVQJCq2cCM"]
//        video_array[44] = ["45", "thirteen"]  GWAR VIDEO
        video_array[39] = ["46", "fourteen", "http://www.youtube.com/embed/6v2L2UGZJAM"]
        video_array[40] = ["48", "sixteen", "http://www.youtube.com/embed/pXSGocWifAg"]
//        video_array[44] = ["51", "sixteen", "http://www.youtube.com/embed/AzoIJlQD06E"]
//        video_array[45] = ["52", "eight", "http://www.youtube.com/embed/gHxi-HSgNPc"]
        video_array[41] = ["53", "nine", "http://www.youtube.com/embed/uu_zwdmz0hE"]
        video_array[42] = ["54", "ten", "https://www.youtube.com/embed/gGmfOsdla2Y"]

        var current_vid_array = [];

        for (var i=0; i<num_vids; i++){
            var random_number = Math.floor(Math.random()*video_array.length);

            if ($.inArray(random_number, current_vid_array) !== -1){
                console.log(random_number);
                random_number = Math.floor(Math.random()*video_array.length);
                if ($.inArray(random_number, current_vid_array) !== -1){
                    console.log(random_number);
                    random_number = Math.floor(Math.random()*video_array.length);
                    if ($.inArray(random_number, current_vid_array) !== -1){
                        random_number=2
                    }
                }
            }
            video = video_array[random_number];

            current_vid_array.push(random_number);


            if(i==0){
                data_slider_num = 'one';
            }
            else if(i===1){
                data_slider_num = 'two';
            }
            else if(i===2){
                data_slider_num = 'three';
            }
            else if(i===3){
                data_slider_num = 'four';
            }
            else if(i===4){
                data_slider_num = 'five';
            }
            if(! video){
                video = video_array[4];
            }
            $('.slider_class').append('<div data-slidr="'+data_slider_num+'" ><video  class="background_video" id="video_'+data_slider_num+'" data-videourl = "'+video[2]+'" loop><source src="videos/bubbl_b/ba'+video[0]+'.webm" type="video/webm"/><source src="videos/bubbl_b/ba'+video[0]+'.mp4" type="video/mp4"/><p>Your browser doesnt support html5.</p> </div>')
            if(i==0){
                data_slider_num = 'one';
                $('#video_'+ data_slider_num).get(0).play();
                var current_bubbl_landing_page =  0;
            }
        };


        bubblLanding.slidr = slidr.create('slidr-div', {
            after: function(e) {

            },
            before: function(e) {

                console.log(e.in.slidr)
                if  (e.in.slidr == "one"){
                    $('#video_two').get(0).pause();
                    $('#video_three').get(0).pause();
                    $('#video_four').get(0).pause();
                    $('#video_'+ e.in.slidr).get(0).play();
                }
                else if  (e.in.slidr == "two"){
                    $('#video_one').get(0).pause();
                    $('#video_three').get(0).pause();
                    $('#video_four').get(0).pause();
                    $('#video_'+ e.in.slidr).get(0).play();
                }
                else if  (e.in.slidr == "three"){
                    $('#video_two').get(0).pause();
                    $('#video_one').get(0).pause();
                    $('#video_four').get(0).pause();
                    $('#video_'+ e.in.slidr).get(0).play();
                }
                else if  (e.in.slidr == "four"){

                    $('#video_one').get(0).pause();
                    $('#video_two').get(0).pause();
                    $('#video_three').get(0).pause();
                    $('#video_'+ e.in.slidr).get(0).play();
                }
                bubblLanding.current_bubbl_landing_page =  e.in.slidr;
            },
            breadcrumbs: false,
            controls: 'corner',
            direction: 'vertical',
            fade: true,
            keyboard: true,
            overflow: false,
            touch: true,
            transition: 'linear'
        }).start();
    })
</script>
    <script>
        $('#submit_field').click(function () {
            var un_validate = $( '#username_field' ).parsley( 'validate' );
            var em_validate = $( '#email_field' ).parsley( 'validate' );

            if (un_validate){
                if (em_validate){
                    var email = $("input#reserve_email").val();
                    var username = $("input#reserve_username").val();
                    addUser(username, email);
                    bubblLanding.loop_fix = 1;
                }
            }
        })
    </script>


    <script>
    $('#submit_video_field').click(function () {
        var url_validate = $( '#video_url_input' ).parsley( 'validate' );
        if (url_validate){
            var url= $("input#video_url_input").val();
            addURL(url);
            bubblLanding.loop_url_fix = 1;
        }
    })
    </script>
<script>
    $("body").on("keydown", function(e){
        if(e.keyCode === 38) {
            bubblLanding.slidr.slide('up');
        }
        else if(e.keyCode === 40) {
            bubblLanding.slidr.slide('down');
        }
    });
</script>
<script>
    function rebindScroll(){
        var lastScrollTop = 0;
        $(window).scroll(function(event){
            var st = $(window).scrollTop();
            if (st > lastScrollTop){
                BubblSlidrDown();
            } else {
                BubblSlidrUp();
            }
            lastScrollTop = st;
        });
    };
    function BubblSlidrDown(){
        bubblLanding.slidr.slide('down');
        window.setTimeout(rebindScroll,500)
        $(window).unbind('scroll');
    };
    function BubblSlidrUp(){
        bubblLanding.slidr.slide('up');
        window.setTimeout(rebindScroll,500)
        $(window).unbind('scroll');
    };

    rebindScroll();

</script>
<script src="js/classie.js"></script>
<script src="js/demo1.js"></script>

</body>
</html>
